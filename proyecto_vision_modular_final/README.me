# ğŸ“¦ Sistema Inteligente de Reconocimiento de Componentes ElectrÃ³nicos  
### Arquitectura Modular Â· POO Â· IA Â· Pruebas Unitarias Â· Extensible Â· Limpio

Este proyecto implementa un sistema completo y modular para el reconocimiento automÃ¡tico de componentes electrÃ³nicos usando visiÃ³n artificial, con actualizaciÃ³n de inventario en tiempo real y arquitectura orientada a objetos.  

El diseÃ±o aplica principios de encapsulamiento, bajo acoplamiento, interfaces, polimorfismo, inyecciÃ³n de dependencias, arquitectura limpia y testabilidad.

---

# ğŸ“ Notas Importantes sobre Uso de Google Vision API & Google Sheets API

Este proyecto soporta dos funcionalidades externas opcionales:

1. **ClasificaciÃ³n mediante Google Vision API**  
2. **GestiÃ³n de inventario con Google Sheets API**

Para mantener la seguridad del proyecto:

### ğŸ”’ **NingÃºn archivo de credenciales de Google estÃ¡ incluido en este repositorio.**  
Esto incluye:

- `service_account.json`
- `google_credentials.json`
- Cualquier archivo con claves privadas
- Tokens OAuth

Por polÃ­ticas de Google, estos archivos **NO deben subirse jamÃ¡s a GitHub** ni compartirse pÃºblicamente.

### ğŸ§‘â€ğŸ’» Quien quiera usar estas funciones debe:

1. Crear su propio proyecto en **Google Cloud Console**
2. Activar manualmente las APIs requeridas:
   - **Vision API**
   - **Google Sheets API**
   - **Google Drive API** (si se desea lectura/escritura segura)
3. Generar un archivo **Service Account JSON**
4. Descargarlo a su mÃ¡quina
5. Ubicarlo en una carpeta local del proyecto (ej: `/credenciales/`)
6. Configurar la ruta exacta en el archivo `.env`:


---

# ğŸš« QuÃ© NO viene incluido en el proyecto

Por seguridad y cumplimiento de polÃ­ticas, NO se incluyen:

- Credenciales Google
- Tokens OAuth
- Claves API
- Modelos comerciales
- Enlaces a cuentas de Google Cloud

Cada desarrollador debe usar sus propias credenciales.

---

# ğŸ§¯ Riesgos si alguien sube accidentalmente sus credenciales

Google automÃ¡ticamente:

- Detecta filtraciÃ³n
- Invalida claves comprometidas
- Puede bloquear el proyecto
- Puede generar cargos no deseados

Esto es responsabilidad del usuario, no del autor original del proyecto.

---

# ğŸªª Requisitos MÃ­nimos para Google Vision / Google Sheets

### Para Vision API:
- Activar â€œCloud Vision APIâ€
- Roles necesarios:
  - `roles/vision.user`
- Archivo JSON de service account

### Para Google Sheets:
- Activar â€œGoogle Sheets APIâ€
- Activar â€œGoogle Drive APIâ€ (recomendado)
- Roles:
  - `roles/drive.file`
  - `roles/sheets.writer`

---

# ğŸ“ Uso de Google Sheets dentro del proyecto

El mÃ³dulo:


requiere:

- ID del documento de Google Sheets  
- Permisos de escritura  
- El documento debe tener las columnas:  


Cualquier repositorio adicional puede agregarse intercambiando implementaciones de `IInventoryRepo`.

---

# ğŸš€ IntegraciÃ³n en el sistema (.env)

Ejemplo de configuraciÃ³n para Vision API:


---

# ğŸ§© Arquitectura General

### **1. core/** â€“ LÃ³gica principal
- `InferenceEngine`: procesa imagen â†’ preprocesador â†’ modelo â†’ resultado final.

### **2. infrastructure/** â€“ IntegraciÃ³n con el mundo real
- `OpenCVCamera(ICamera)`
- Modelos IA:
  - `TMSavedModel(IModel)`  
  - `GoogleVisionModel(IModel)`
- Repos:
  - Excel / JSON / GoogleSheets / MultiRepo

### **3. ui/** â€“ Interfaz grÃ¡fica
- `TkDetailUI(IDetailUI)`

### **4. app/** â€“ Controlador principal
- `AppController(IController)`

### **5. config/** â€“ ConfiguraciÃ³n
- `.env`
- `AppSettings`
- `bootstrap.py`

---

# âœ¨ CaracterÃ­sticas principales

- Captura de video en tiempo real
- Preprocesamiento TensorFlow
- IA local o en la nube (Google Vision)
- Inventario en Excel / JSON / Google Sheets
- UI con Tkinter
- Umbral de confianza configurable
- ConfirmaciÃ³n por mÃºltiples frames
- Arquitectura totalmente escalable
- Pruebas con mocks

---

# âš™ InstalaciÃ³n

## Dependencias:

```bash
pip install -r requirements.txt
pip install openpyxl


DIAGRAMA

proyecto_vision_modular_final/
    .env
    README.me
    interfaces.py
    main.py
    requirements.txt

    app/
        controller.py

    config/
        assets.py
        bootstrap.py
        env_loader.py
        settings.py

    core/
        inference/
            inference_engine.py
        preprocessing/
            Tm_preprocessor.py

    infrastructure/
        camera/
            opencv_camera.py
        model/
            Tm_saved_model.py
            google_vision_model.py
        repo/
            excel_inventory_repo.py
            google_sheet_inventory_repo.py
            json_inventory_repo.py
            multi_inventory_repo.py

    tests/
        test_controller_mocks.py
        test_inference_fake.py
        tests_preprocessor.py

    ui/
        tk_detail_ui.py
